{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '50824035-87dfb0469b0d9be7736d790bf';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n\n  return axios.get(BASE_URL, { params }).then(response => response.data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  animationDelay: 250,\n  captionPosition: 'bottom',\n});\n\nexport function createGallery(images) {\n  const createMarkup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"300\"/>\n        <ul class=\"gallery-desc\">\n        <li class=\"gallery-desc-item\">\n        <h2 class=\"gallery-subtitle\">Likes</h2>\n        <p class=\"gallery-text\">${likes}</p>\n        </li>\n        <li class=\"gallery-desc-item\">\n        <h2 class=\"gallery-subtitle\">Views</h2>\n        <p class=\"gallery-text\">${views}</p>\n        </li>\n         <li class=\"gallery-desc-item\">\n        <h2 class=\"gallery-subtitle\">Comments</h2>\n        <p class=\"gallery-text\">${comments}</p>\n        </li>\n        <li class=\"gallery-desc-item\">\n        <h2 class=\"gallery-subtitle\">Downloads</h2>\n        <p class=\"gallery-text\">${downloads}</p>\n        </li>\n        </ul>\n        </a>\n        </li>\n        `\n    )\n    .join('');\n\n  gallery.innerHTML = createMarkup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('.form-input');\n\nform.addEventListener('submit', formSubmit);\n\nfunction formSubmit(event) {\n  event.preventDefault();\n\n  const searchImage = formInput.value.trim();\n\n  if (searchImage === '') {\n    return iziToast.warning({\n      message: 'Please, fill in the field',\n      position: 'topRight',\n      timeout: 3000,\n    });\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(searchImage)\n    .then(data => {\n      const images = data.hits;\n\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 5000,\n          color: 'red',\n        });\n        return;\n      }\n      createGallery(images);\n    })\n    .catch(error =>\n      iziToast.error({\n        message: `Error`,\n        position: 'topRight',\n        timeout: 5000,\n        color: 'red',\n      })\n    )\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","formInput","formSubmit","event","searchImage","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEE,OAAOE,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACvE,CCZA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,eAAgB,IAChB,gBAAiB,QACnB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAClB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA,wCACbD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kCAIhCC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMtC,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCtDA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAEtDD,EAAK,iBAAiB,SAAUE,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAcH,EAAU,MAAM,KAAI,EAExC,GAAIG,IAAgB,GAClB,OAAOC,EAAS,QAAQ,CACtB,QAAS,4BACT,SAAU,WACV,QAAS,GACf,CAAK,EAGHR,IACAC,IAEApB,EAAiB0B,CAAW,EACzB,KAAKE,GAAQ,CACZ,MAAMlB,EAASkB,EAAK,KAEpB,GAAIlB,EAAO,SAAW,EAAG,CACvBiB,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EACD,MACD,CACDlB,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAMmB,GACLF,EAAS,MAAM,CACb,QAAS,QACT,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,CACF,EACA,QAAQ,IAAM,CACbN,IACAC,EAAK,MAAK,CAChB,CAAK,CACL"}